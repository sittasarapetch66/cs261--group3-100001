#TU Online Request Backend
## This is a backend development branch that is managing all the database and website data transfers
## Please Note that this is a raw Spring Boot App project so if you want to run on tomcat you need to build your own .war files

---

## Section 1 : DBO Columns Explanation

### Column 1 : Request Table

| Columns Name | Explaination | Comments | Example
|---|---|---|---|
| Id | ID of the dataset that is auto-generated by Spring Boot Apps || 2
| status | Status of the current request | Please Look Section 3 for more info | 200 |
| request type | type of the request | Please Look Section 2 for more info | 4 |
| Username | 10 Digit of TU Student ID || 6609681231 |
| date & time | Date and time of the request at the time that user pressed submit / saved button (System is not save the time when draft code is send) | Seperate by ¶|16¶11¶2022¶15¶36¶49|
| Advisor Name | Name of the Student Advisor || ลัมพาพรรณ พันชูจิตร
| additional request data | Request Data that is coressponding to each type of request | Please Look Section 2 For more info | true¶50000¶เนื่องจากต้องการย้ายสถานศึกษา
| adress | adress of the requestor | this is a combined adress that is seperated in the input field with seperated by ¶ | 4/3 ถนนศรีสุทัศน์¶ตำบลตลาดใหญ่¶อำเภอเมือง¶จังหวัดภูเก็ต|
| base64_file1 | Base64 of the document files | Maximun String Length is 2 Million Character
| base64_file2 | Base64 of the document files | Maximun String Length is 2 Million Character
| base64_file3 | Base64 of the document files | Maximun String Length is 2 Million Character
| base64_file4 | Base64 of the document files | Maximun String Length is 2 Million Character

### Column 2 : Employee Table
| Columns Name | Explaination | Comments | Example
|---|---|---|---|
| FullName_TH |
| FullName_EN | 
| Phone Number |
| Faculty |
| Adress |
| Position ID |
| Employee Type |




---
## Section 2 : Request Type Explanation
The system can be store every request type data but each request type have their own requirement data. Here is a lookup table of each position of data that store in 1 long text that is seperated by ¶

### Request type in current system
1. จดทะเบียนรายวิชาล่าช่า
2. ถอนรายวิชาล่าช้า
3. จดทะเบียนรายวิชานอกหลักสูตร
4. ลาออก
99. คำร้องอื่น ๆ

### Request Body Form
Example : ทดสอบ1¶ทดสอบ2¶ทดสอบ3 ; ¶ is a seperator chunk of data

| ID | Request | Chunk0 | Chunk1 | Chunk2 | Chunk3 | Chunk4 | Chunk5 | Chunk6 | Chunk7 | Chunk8 | Chunk9 |
|---|---|---|---|---|---|---|---|---|---|---|---|
| 0 | ไม่มีคำร้อง |
| 1 | จดทะเบียนรายวิชาล่าช้า |จำนวนวิชาทั้งหมด|Array of รหัสวิชา|Array of ชื่อวิชา | Array of รหัส Section | Array of ปีหลักสูตร | เหตุผลที่ขอจดรายวิชาล่าช้า |
| 2 | ถอนรายวิชาล่าช้า |จำนวนวิชาทั้งหมด|Array of รหัสวิชา|Array of ชื่อวิชา | Array of รหัส Section| Array of ปีหลักสูตร  | เหตุผลที่ขอถอนรายวิชาล่าช้า |
| 3 | จดทะเบียนรายวิชานอกหลักสูตร |จำนวนวิชาทั้งหมด|Array of รหัสวิชา|Array of ชื่อวิชา | Array of รหัส Section | Array of ปีหลักสูตร | เหตุผลที่ขอจดทะเบียนรายวิชานอกหลักสูตร |
| 4 | ลาออก | Boolene of มีภาระคงค้างหรือไม่ | จำนวนเงินที่คงค้าง (Ignore if Chunck 0 False) | เหตุผลที่ขอลาออก |
| 99 | คำร้องอื่น ๆ | ชื่อคำร้อง | สิ่งที่จำนงค์ | ระดับความสำคัญ | Array of ชื่อผู้รองรับ |

---
##Section 3 : Request Status Explanation

| ID | Status | Explain | Comment |
| --- | --- | --- | --- |
| 0 | Null Request | Do nothing | |
|-|
| 100 | Request Draft | The requested that is saved from user when user pressed the draft button
|-|
| 200 | Request Save to System Successfully | Request is Saved to system and ready to increment to next code | Next Code : 210 
| 201 | Request Save Error | Request Cannot be saved because of the problem |
| 210 | Request Send to Advisor Successfully via Email | | Next Code : 220 If approved, 221 If not approved
| 211 | Request cannot Send to Advisor Email | |
| 220 | Request Approved to Advisor | | Next Code : 230 
| 221 | Request Declined by Advisor because not clear request | |
| 230 | Request Send to Faculty Successfully | | Next Code : 240 If approved, 241 if declined
| 240 | Request Approved by Faculty | |
| 241 | Request Decline by Faculty | |
| 250 | Request Send to คณะบดี Successfully |
| 260 | Request Approved by คณะบดี | |Next Code : 270 
| 261 | Request Decline by คณะบดี | |
| 270 | Request Send to ฝ่ายที่เกี่ยวข้อง | 
| 280 | Request Approved by ฝ่าย | | Next Code : 290 
| 290 | Request Done Successfully | |Next Code : 300 
| 300 | Request Closed || Next Code : None (Not Increment anymore if require will increment to 400)
| 400 | Request Archive |Archive the old request| 

---
## Section 4 : Employee Type
| ID | Type | Explain | Comment |
| --- | --- | --- | --- |
| 1 | อาจารย์
| 10 | โดเมนสาขา
| 20 | โดเมนคณะ
| 50 | ฝ่ายอธิการบดี
| 60 | อธิการบดี



###  Protocol Version 1.2
